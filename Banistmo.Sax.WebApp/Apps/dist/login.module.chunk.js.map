{"version":3,"sources":["./src/app/pages/login/login.component.html","./src/app/pages/login/login.component.scss","./src/app/pages/login/login.component.ts","./src/app/pages/login/login.module.ts"],"names":[],"mappings":"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","file":"login.module.chunk.js","sourcesContent":["module.exports = \"<div class=\\\"container-fluid h-100 login\\\">\\r\\n  <form [formGroup]=\\\"loginForm\\\" class=\\\"h-100\\\" (ngSubmit)=\\\"login()\\\">\\r\\n    <div class=\\\"row h-100\\\">\\r\\n      <div class=\\\"col-sm-8 login-left\\\">\\r\\n<img src=\\\"./assets/img/logoTop.png\\\">\\r\\n      </div>\\r\\n      <div class=\\\"col-sm-4 login-right\\\">\\r\\n        <h1>Banistmo SAX</h1>\\r\\n\\r\\n        <div class=\\\"form-group\\\">\\r\\n          <label for=\\\"username\\\">Usuario</label>\\r\\n\\r\\n          <input type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"\\\" formControlName=\\\"username\\\" name=\\\"username\\\"\\r\\n                 id=\\\"username\\\" required>\\r\\n          <i class=\\\"form-group__bar\\\"></i>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"alert alert-danger m-5\\\" role=\\\"alert\\\"\\r\\n             *ngIf=\\\"username.invalid && (username.dirty || username.touched)\\\">\\r\\n          Debe colocar un usuario valido\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"form-group\\\">\\r\\n          <label for=\\\"password\\\">Contraseña</label>\\r\\n\\r\\n          <input type=\\\"password\\\" autocomplete=\\\"autocomplete\\\" class=\\\"form-control\\\" placeholder=\\\"\\\"\\r\\n                 formControlName=\\\"password\\\" required name=\\\"password\\\" id=\\\"password\\\">\\r\\n          <i class=\\\"form-group__bar\\\"></i>\\r\\n        </div>\\r\\n\\r\\n        <div class=\\\"alert alert-danger m-5\\\" role=\\\"alert\\\"\\r\\n             *ngIf=\\\"password.invalid && (password.dirty || password.touched)\\\">\\r\\n          Debe colocar un password valido\\r\\n        </div>\\r\\n\\r\\n        <button type=\\\"submit\\\" class=\\\"btn btn-primary btn-lg\\\" [disabled]=\\\"!loginForm.valid\\\">Ingresar</button>\\r\\n      </div>\\r\\n    </div>\\r\\n  </form>\\r\\n</div>\\r\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/pages/login/login.component.html\n// module id = ./src/app/pages/login/login.component.html\n// module chunks = login.module","module.exports = \".login .login-right {\\n  padding: 10px;\\n  -webkit-box-shadow: -1px 0px 5px 1px black;\\n  box-shadow: -1px 0px 5px 1px black; }\\n\\n.login h1 {\\n  color: #08448d;\\n  text-align: center; }\\n\\n.login-left {\\n  background-color: #08448d;\\n  padding-right: 0px;\\n  text-align: right; }\\n\\n.login-right {\\n  background-color: #fff; }\\n\\nlabel {\\n  font-size: 1.2rem;\\n  font-weight: bold;\\n  color: #08448d; }\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/pages/login/login.component.scss\n// module id = ./src/app/pages/login/login.component.scss\n// module chunks = login.module","import {Component, OnInit} from '@angular/core';\r\nimport {BanistmoService} from '../../providers/banistmo.service';\r\nimport {CookieService} from 'ngx-cookie-service';\r\nimport {FormBuilder, FormGroup, Validators} from '@angular/forms';\r\nimport {Router} from '@angular/router';\r\nimport {SweetAlertService} from 'angular-sweetalert-service';\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.component.html',\r\n  styleUrls: ['./login.component.scss'],\r\n  providers: [BanistmoService, CookieService]\r\n})\r\nexport class LoginComponent implements OnInit {\r\n\r\n  loginForm: FormGroup;\r\n\r\n  constructor(private banService: BanistmoService,\r\n              private fb: FormBuilder, private router: Router, private alertService: SweetAlertService) {\r\n    this.createForm();\r\n  }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  createForm() {\r\n    this.loginForm = this.fb.group({\r\n      username: ['jmartine', Validators.required],\r\n      password: ['jM123456!', Validators.required]\r\n    });\r\n  }\r\n\r\n  getUserAttributes() {\r\n    this.banService.getUserAttributes().subscribe(res => {\r\n      if (res.Result) {\r\n        this.banService.user = res.Result;\r\n        this.router.navigate(['/home']);\r\n      } else {\r\n        this.alertService.warning({\r\n          title: res.error_description || 'No fue posible consultar el perfil del usuario'\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  login() {\r\n    const formModel = this.loginForm.value;\r\n    this.banService.login(formModel.username, formModel.password, 'password')\r\n      .subscribe(res => {\r\n        if (res.access_token) {\r\n          this.banService.setSession(res.access_token);\r\n          this.getUserAttributes();\r\n        } else {\r\n          this.alertService.warning({\r\n            title: res.error_description || 'No fue posible procesar su transacción'\r\n          });\r\n        }\r\n      });\r\n\r\n  }\r\n\r\n  get username() {\r\n    return this.loginForm.get('username');\r\n  }\r\n\r\n  get password() {\r\n    return this.loginForm.get('password');\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/pages/login/login.component.ts","import {CommonModule} from '@angular/common';\r\nimport {NgModule} from '@angular/core';\r\nimport {RouterModule} from '@angular/router';\r\n\r\nimport {LoginComponent} from './login.component';\r\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\r\n\r\nconst ROUTES = [\r\n  {path: '', component: LoginComponent}\r\n];\r\n\r\n@NgModule({\r\n  declarations: [\r\n    LoginComponent\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule.forChild(ROUTES),\r\n    FormsModule,\r\n    ReactiveFormsModule\r\n  ]\r\n})\r\n\r\nexport class LoginModule {\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/pages/login/login.module.ts"],"sourceRoot":"webpack:///"}